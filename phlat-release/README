#############################################################
## PHLAT IS DEVELOPED BY REGENERON PHARMACEUTICALS INC.    ##
## UNDER A PROPRIETARY LICENSE. THIS RELEASED  PACKAGE     ##
## MAY ONLY BE APPLIED IN ACADEMIC RESEARCH ONLY AND 	   ##
## RESTRICTED FROM OTHER ACTIVITIES INCLUDING BUT NOT      ## 
## LIMITED TO COPY, RE-DISTRIBUTION, REVERSE-ENGINEERING   ##
## AND/OR COMMERCIAL USAGES				   ##
#############################################################

##### phlat-release is an implementation of PHLAT algorithm for Linux environment ######

##### Updates on 9/20/2017
# 1. proper pysam version is highlighted to avoid compatibility issue 
# 2. new flag provided to retain intermediate file (-tmp)

##################### System requirement #############################
## Linux (Ubuntu preferred, package compiled under python2.7.3 in Ubuntu12.04)
## Python 2.7 (http://www.python.org/download/releases/2.7)
## python modules:pysam (version 0.8.3 is verified for use, avoid 0.9+ due to compatibility issue), cPickle, sets, copy, math, re, os, sys, subprocess
## Bowtie 2 (version 2.0.0-beta7 is strongly recommended as this version was used when downstream algorithm was optimized)


##################### Installation #############################
## 1. Unpack phlat-release.tar.gz
## 2. Unpack b2folder.tar.gz and place the index files for Bowtie2 to subfolder "b2folder" in the home folder of phlat


##################### Execution #############################
## 1.Modify configuration parameters (see example.sh as template) 
##   phlatdir: the home directory of phlat-1.0
##   fastq1: fastq file of the first reads 
##   fastq2: fastq file of the second reads
##   indexdir: the index4phlat subfolder in phlat-1.0 package
##   b2url: url to bowtie2 executable
## **Be sure python 2.7 executable can be directly accessed as, e.g.,"python2.7". Otherwise call by full path

## 2. >sh example.sh 

##### Additional options:
## -orientation: mate orientation for paired reads as defined in bowtie2
## -tag: name label for the sample associated with the fastq files
## -p: number of threads for running Bowtie2 [default 8]
## -e: url to the home folder of phlat-1.0 package
## -o: url to a directory where results shall be stored
## -pe: flag indicating whether the data shall be treated as paired-end(1) or single-end(0) [default 1]
## -tmp: flag to either keep (1) or remove (0) the temporal file folder after the run [default 0]
